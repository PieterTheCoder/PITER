#!/usr/bin/env python3
"""
Game Tebak Angka untuk Pieter
Game sederhana yang mengajarkan konsep programming
"""

import random
import time

def tampilkan_judul():
    """Menampilkan judul game yang menarik"""
    print("=" * 60)
    print("🎮 GAME TEBAK ANGKA UNTUK PIETER 🎮")
    print("=" * 60)
    print("Selamat datang di game tebak angka!")
    print("Aturan sederhana: tebak angka yang saya pikirkan!")
    print("=" * 60)
    print()

def pilih_level():
    """Memilih level kesulitan"""
    print("🎯 PILIH LEVEL KESULITAN:")
    print("1. Mudah (1-10, 5 kesempatan)")
    print("2. Sedang (1-50, 7 kesempatan)")
    print("3. Sulit (1-100, 10 kesempatan)")
    print()
    
    while True:
        try:
            pilihan = int(input("Pilih level (1/2/3): "))
            if pilihan == 1:
                return 10, 5, "Mudah"
            elif pilihan == 2:
                return 50, 7, "Sedang"
            elif pilihan == 3:
                return 100, 10, "Sulit"
            else:
                print("Pilih angka 1, 2, atau 3 ya!")
        except ValueError:
            print("Masukkan angka yang benar!")

def berikan_clue(tebakan, angka_rahasia, jarak):
    """Memberikan clue yang membantu"""
    selisih = abs(tebakan - angka_rahasia)
    
    if tebakan < angka_rahasia:
        arah = "Terlalu kecil!"
    else:
        arah = "Terlalu besar!"
    
    # Berikan clue tambahan berdasarkan seberapa dekat
    if selisih <= 2:
        clue = "🔥 Sangat dekat!"
    elif selisih <= 5:
        clue = "😊 Dekat!"
    elif selisih <= 10:
        clue = "🤔 Lumayan dekat"
    else:
        clue = "😅 Masih jauh"
    
    print(f"{arah} {clue}")

def main_game():
    """Fungsi utama permainan"""
    # Pilih level
    batas_atas, max_percobaan, nama_level = pilih_level()
    
    print(f"\n🎯 Level: {nama_level}")
    print(f"Saya sudah memikirkan angka antara 1-{batas_atas}")
    print(f"Kamu punya {max_percobaan} kesempatan untuk menebak!")
    print("Mari kita mulai!\n")
    
    # Generate angka rahasia
    angka_rahasia = random.randint(1, batas_atas)
    
    # Mulai permainan
    for percobaan in range(1, max_percobaan + 1):
        sisa_percobaan = max_percobaan - percobaan + 1
        print(f"🎯 Percobaan ke-{percobaan} (sisa {sisa_percobaan - 1} kesempatan)")
        
        try:
            tebakan = int(input(f"Tebak angka (1-{batas_atas}): "))
            
            # Validasi input
            if tebakan < 1 or tebakan > batas_atas:
                print(f"Angka harus antara 1-{batas_atas}!")
                continue
            
            # Cek apakah benar
            if tebakan == angka_rahasia:
                print(f"\n🎉 SELAMAT PIETER! 🎉")
                print(f"Benar! Angka yang saya pikirkan adalah {angka_rahasia}!")
                print(f"Kamu berhasil menebak dalam {percobaan} percobaan!")
                
                # Berikan rating berdasarkan percobaan
                if percobaan == 1:
                    print("⭐⭐⭐ SEMPURNA! Keberuntungan luar biasa!")
                elif percobaan <= 3:
                    print("⭐⭐ HEBAT! Kamu sangat pintar!")
                else:
                    print("⭐ BAGUS! Terus berlatih!")
                
                return True
            else:
                # Berikan clue
                berikan_clue(tebakan, angka_rahasia, batas_atas)
                
                # Clue khusus di percobaan terakhir
                if percobaan == max_percobaan:
                    print(f"\n💔 Game Over!")
                    print(f"Angka yang benar adalah {angka_rahasia}")
                    print("Jangan sedih, coba lagi ya!")
                    return False
                
        except ValueError:
            print("Masukkan angka yang valid!")
            continue
        
        print()  # Baris kosong untuk tampilan yang rapi
    
    return False

def tampilkan_statistik(menang, kalah):
    """Menampilkan statistik permainan"""
    total = menang + kalah
    if total > 0:
        persentase = (menang / total) * 100
        print(f"\n📊 STATISTIK KAMU:")
        print(f"Menang: {menang} kali")
        print(f"Kalah: {kalah} kali")
        print(f"Persentase menang: {persentase:.1f}%")
        
        if persentase >= 70:
            print("🏆 Kamu pemain yang hebat!")
        elif persentase >= 50:
            print("👍 Lumayan bagus!")
        else:
            print("💪 Terus berlatih!")

def main():
    """Fungsi utama program"""
    tampilkan_judul()
    
    # Statistik permainan
    total_menang = 0
    total_kalah = 0
    
    while True:
        # Main game
        hasil = main_game()
        
        if hasil:
            total_menang += 1
        else:
            total_kalah += 1
        
        # Tanya apakah mau main lagi
        print("\n" + "=" * 40)
        main_lagi = input("Mau main lagi? (y/n): ").lower()
        
        if main_lagi != 'y' and main_lagi != 'ya':
            break
        
        print("\n" + "=" * 60)
    
    # Tampilkan statistik akhir
    tampilkan_statistik(total_menang, total_kalah)
    
    print(f"\nTerima kasih sudah bermain, Pieter!")
    print("Semoga kamu makin suka dengan programming!")
    print("Tips: Game ini menggunakan konsep seperti:")
    print("- Variabel (menyimpan angka rahasia)")
    print("- Loop (mengulang permainan)")
    print("- Kondisi (if-else untuk cek jawaban)")
    print("- Fungsi (membagi kode menjadi bagian-bagian)")
    print("- Input/Output (berkomunikasi dengan pemain)")

if __name__ == "__main__":
    main()
